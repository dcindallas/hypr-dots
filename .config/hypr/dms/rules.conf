#  HYPRLAND WINDOW RULES

# -----------------------------------------------------------------------------
#  TILING OVERRIDES
# -----------------------------------------------------------------------------

# Forces specific applications to tile even if global behavior is floating
windowrule = tile on, match:class ^(org\.wezfurlong\.wezterm|gnome-control-center)$

# -----------------------------------------------------------------------------
#  GLOBAL FLOATING & UTILITIES
# ----------------------------------------------------------------------------

# General system utilities that should always float
windowrule = float on, match:initial_class ^(nm-connection-editor|xdg-desktop-portal.*|pithos|org.quickshell|timeshift-gtk|org.pulseaudio.pavucontrol)$
windowrule = float on, match:class ^(gnome-calculator|blueman-manager)$
windowrule = float on, match:title ^(Library|FontBase|KDE Connect URL handler)$
windowrule = size 1000 1050, match:class ^(org.quickshell)$, match:title ^(Settings)$
windowrule = center on, match:class ^(org.quickshell)$, match:title ^(Settings)$
windowrule = size 1154 725, match:initial_class ^(timeshift-gtk)$, match:initial_title ^(timeshift-gtk)$

# Conditional Floating (Class + Title matches)
windowrule = float on, match:class ^(com.github.wwmm.easyeffects)$, match:title ^(Easy Effects)$
windowrule = float on, match:class ^(firefox)$, match:title ^(Picture-in-Picture)$

# Thunderbird - Compose, Alarms, & Progress
windowrule = float on, match:class ^(org.mozilla.Thunderbird)$, match:title ^(Write:.*|Calendar Reminders|Edit Item|Sending Message - .*)$
windowrule = size 1100 800, match:class ^(org.mozilla.Thunderbird)$, match:title ^(Write:.*|Calendar Reminders|Edit Item)$
windowrule = size 450 150, match:initial_class ^(org.mozilla.Thunderbird)$, match:initial_title ^(Sending Message *)$
windowrule = center on, match:class ^(org.mozilla.Thunderbird)$, match:title ^(Write:.*|Calendar Reminders|Edit Item|Sending Message - .*)$

# -----------------------------------------------------------------------------
#  WORKSPACE 2: SYSTEM & FILE MANAGEMENT
# -----------------------------------------------------------------------------

# proton mail bridge RULES
windowrule = float on, match:initial_class ^(proton-bridge)$
windowrule = center on, match:initial_class ^(proton-bridge)$
windowrule = size 1080 790, match:initial_class ^(proton-bridge)$

# dev.zed.Zed - Main Window (Force to WS 3 and standard size/position)
windowrule = center on, match:initial_class ^(dev.zed.Zed)$
windowrule = float on, match:initial_class ^(dev.zed.Zed)$
windowrule = persistent_size on, match:initial_class ^(dev.zed.Zed)$

# Zed - Editor & Settings
windowrule = float on, match:initial_class ^(dev.zed.Zed)$, match:initial_title ^(Zed — Settings)$
windowrule = size 900 530, match:initial_class ^(dev.zed.Zed)$, match:initial_title ^(Zed — Settings)$
windowrule = center on, match:initial_class ^(dev.zed.Zed)$, match:initial_title ^(Zed — Settings)$

# Thunar - File Browser (Force to WS 2)
windowrule = float on, match:initial_class ^(thunar)$
windowrule = size 852 548, match:initial_class ^(thunar)$
windowrule = center on, match:initial_class ^(thunar)$
windowrule = size 500 560, match:initial_class ^(thunar)$, match:initial_title ^.* - (Properties)$

# Qt6 Configuration Tool
windowrule = float on, match:initial_class ^(qt6ct)$
windowrule = size 614 901, match:initial_class ^(qt6ct)$
windowrule = center on, match:initial_class ^(qt6ct)$

# -----------------------------------------------------------------------------
#  WORKSPACE 3: COMMUNICATION & PRODUCTIVITY
# -----------------------------------------------------------------------------

# timeshift windowrule
windowrule = float on, match:initial_class ^(timeshift-gtk)$
windowrule = float on, match:initial_class ^(timeshift-gtk)$

# Brave windowrule
windowrule = float on, match:initial_class ^(brave-browser-beta)$
windowrule = center on, match:initial_class ^(brave-browser-beta)$
windowrule = persistent_size on, match:initial_class ^(brave-browser-beta)$
# zen windowrule
windowrule = float on, match:initial_class ^(zen)$
windowrule = center on, match:initial_class ^(zen)$
windowrule = size 1900 1100, match:initial_class ^(zen)$

# scrcpy windowrule
windowrule = float on, match:initial_class ^(scrcpy)$
windowrule = center on, match:initial_class ^(scrcpy)$
windowrule = size 495 1100, match:initial_class ^(scrcpy)$
windowrule = opacity 1.00 override, match:initial_class ^(scrcpy)$

# Telegram
# windowrule = workspace 4, match:initial_class ^(org.telegram.desktop)$
windowrule = float on, match:initial_class ^(org.telegram.desktop)$
windowrule = size 420 540, match:initial_class ^(org.telegram.desktop)$
windowrule = center on, match:initial_class ^(org.telegram.desktop)$

# Signal
# windowrule = workspace 4, match:initial_class ^(signal)$
windowrule = float on, match:initial_class ^(Signal)$
windowrule = size 420 540, match:initial_class ^(Signal)$
windowrule = center on, match:initial_class ^(Signal)$

# Thunderbird (Main Window)
# windowrule = workspace 4, match:initial_class ^(org.mozilla.Thunderbird)$
windowrule = float on, match:initial_class ^(org.mozilla.Thunderbird)$
windowrule = size 1900 1100, match:initial_class ^(org.mozilla.Thunderbird)$
windowrule = center on, match:initial_class ^(org.mozilla.Thunderbird)$

# -----------------------------------------------------------------------------
#  DIALOGS, MODALS, & TRANSIENT WINDOWS (Consolidated)
# -----------------------------------------------------------------------------

# Portals & General File Pickers (Open/Save/Upload)
windowrule = float on, match:initial_class ^(xdg-desktop-portal-.*)$
windowrule = float on, match:initial_title ^(?i)(Open|Save|Select|Upload|Choose|Enter|Confirm|Warning).*$
windowrule = size 1100 700, match:initial_class ^(xdg-desktop-portal-.*)$
windowrule = size 1100 700, match:initial_title ^(?i)(Open|Save|Select|Upload|Choose|Enter).*$
windowrule = center on, match:initial_class ^(xdg-desktop-portal-.*)$
windowrule = center on, match:initial_title ^(?i)(Open|Save|Select|Upload|Choose|Enter).*$

# Smaller Dialogs (File Roller, Thunar Rename, Appearance)
windowrule = float on, match:initial_class ^(org.gnome.FileRoller|thunar|xfce4-appearance-settings)$
windowrule = size 350 150, match:initial_class ^(org.gnome.FileRoller|thunar)$, match:initial_title ^(File Roller|Rename).*$
windowrule = size 400 600, match:initial_class ^(xfce4-appearance-settings)$, match:initial_title ^(Appearance).*$
windowrule = center on, match:initial_class ^(org.gnome.FileRoller|thunar|xfce4-appearance-settings)$

# Thunderbird/Betterbird - Compose & Alarms
windowrule = float on, match:class ^(org.mozilla.Thunderbird)$, match:title ^(Write: \(no subject\)|Calendar Reminders|Edit Item)$
windowrule = size 1100 800, match:class ^(org.mozilla.Thunderbird)$, match:title ^(Write: \(no subject\)|Calendar Reminders|Edit Item)$
windowrule = center on, match:class ^(org.mozilla.Thunderbird)$, match:title ^(Write: \(no subject\)|Calendar Reminders|Edit Item)$
windowrule = float on, match:initial_class ^(org.mozilla.Thunderbird)$, match:title ^(Sending Message - *)$
windowrule = size 560 175, match:initial_class ^(org.mozilla.Thunderbird)$, match:title ^(Sending Message - *)$
# -----------------------------------------------------------------------------
#  MULTIMEDIA & SCRATCHPADS
# -----------------------------------------------------------------------------

#PICTURE IN PICTURE WINDOW RULES
windowrule = float on, match:initial_title ^(Picture-in-Picture)$
# windowrule = size 30%, match:initial_title ^(Picture-in-Picture)$

# Opacity Overrides
windowrule = opacity 1.00 override, match:initial_class ^(gimp|swayimg)$
windowrule = opacity 0.90 override, match:initial_class ^(YouTube Music Desktop App|YoutubeMusic|com.github.th_ch.youtube_music|)$
# windowrule = opacity 1.00 override, match:initial_class ^(brave-browser-beta)$

# YouTubemusic windowrule
windowrule = float on, match:initial_class ^(YouTube Music Desktop App|YoutubeMusic|com.github.th_ch.youtube_music)$
windowrule = center on, match:initial_class ^(YouTube Music Desktop App|YoutubeMusic|com.github.th_ch.youtube_music)$

# System Audio Control
windowrule = size 1100 1000, match:initial_class ^(org.pulseaudio.pavucontrol)$
windowrule = center on, match:initial_class ^(org.pulseaudio.pavucontrol)$

# Image Viewing & Connectivity
windowrule = float on, match:class ^(org.kde.kdeconnect.app|swayimg)$
windowrule = size 65% 65%, match:class ^(org.kde.kdeconnect.app|swayimg)$
windowrule = center on, match:class ^(org.kde.kdeconnect.app|swayimg)$

# Kitty Dropdown (Scratchpad)
windowrule = float on, match:class ^(kitty-dropdown)$
windowrule = size 900 500, match:class ^(kitty-dropdown)$
windowrule = workspace special:dropdown, match:class ^(kitty-dropdown)$
windowrule = border_size 0, match:class ^(kitty-dropdown)$
windowrule = center on, match:class ^(kitty-dropdown)$

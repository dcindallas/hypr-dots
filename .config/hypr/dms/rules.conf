# =============================================================================
#  HYPRLAND WINDOW RULES - Optimized for DankLinux
# =============================================================================

# -----------------------------------------------------------------------------
#  TILING OVERRIDES
# -----------------------------------------------------------------------------

# Forces specific applications to tile even if global behavior is floating
windowrule = tile on, match:class ^(org\.wezfurlong\.wezterm|gnome-control-center)$

# -----------------------------------------------------------------------------
#  GLOBAL FLOATING & UTILITIES
# ----------------------------------------------------------------------------

# General system utilities that should always float
windowrule = float on, match:initial_class ^(nm-connection-editor|xdg-desktop-portal.*|pithos|org.quickshell|timeshift-gtk|org.pulseaudio.pavucontrol)$
windowrule = float on, match:class ^(gnome-calculator|blueman-manager)$
windowrule = float on, match:title ^(Library|FontBase|KDE Connect URL handler)$

windowrule = size 1000 1050, match:class ^(org.quickshell)$, match:title ^(Settings)$
windowrule = center on, match:class ^(org.quickshell)$, match:title ^(Settings)$
# Conditional Floating (Class + Title matches)
windowrule = float on, match:class ^(com.github.wwmm.easyeffects)$, match:title ^(Easy Effects)$
windowrule = float on, match:class ^(firefox)$, match:title ^(Picture-in-Picture)$

# Thunderbird - Compose, Alarms, & Progress
windowrule = float on, match:class ^(org.mozilla.Thunderbird)$, match:title ^(Write:.*|Calendar Reminders|Edit Item|Sending Message - .*)$
windowrule = size 1100 800, match:class ^(org.mozilla.Thunderbird)$, match:title ^(Write:.*|Calendar Reminders|Edit Item)$
windowrule = size 450 150, match:class ^(org.mozilla.Thunderbird)$, match:title ^(Sending Message - .*)$
windowrule = center on, match:class ^(org.mozilla.Thunderbird)$, match:title ^(Write:.*|Calendar Reminders|Edit Item|Sending Message - .*)$

# -----------------------------------------------------------------------------
#  WORKSPACE 2: SYSTEM & FILE MANAGEMENT
# -----------------------------------------------------------------------------

# dev.zed.Zed - Main Window (Force to WS 3 and standard size/position)
windowrule = workspace 3, match:initial_class ^(dev.zed.Zed)$
windowrule = float on, match:initial_class ^(dev.zed.Zed)$
windowrule = size 1230 1200, match:initial_class ^(dev.zed.Zed)$
windowrule = move 95 125, match:initial_class ^(dev.zed.Zed)$

# Zed - Editor & Settings
windowrule = float on, match:initial_class ^(dev.zed.Zed)$, match:initial_title ^(Zed — Settings)$
windowrule = size 900 530, match:initial_class ^(dev.zed.Zed)$, match:initial_title ^(Zed — Settings)$
windowrule = center on, match:initial_class ^(dev.zed.Zed)$, match:initial_title ^(Zed — Settings)$

# Thunar - File Browser (Force to WS 2)
windowrule = workspace 3, match:initial_class ^(thunar)$
windowrule = float on, match:initial_class ^(thunar)$
windowrule = size 840 620, match:initial_class ^(thunar)$
windowrule = move 1575 660, match:initial_class ^(thunar)$
windowrule = size 500 560, match:initial_class ^(thunar)$, match:initial_title ^.* - (Properties)$

# Qt6 Configuration Tool
windowrule = float on, match:initial_class ^(qt6ct)$
windowrule = size 614 901, match:initial_class ^(qt6ct)$
windowrule = center on, match:initial_class ^(qt6ct)$

# -----------------------------------------------------------------------------
#  WORKSPACE 3: COMMUNICATION & PRODUCTIVITY
# -----------------------------------------------------------------------------

# Telegram
windowrule = workspace 3, match:initial_class ^(org.telegram.desktop)$
windowrule = float on, match:initial_class ^(org.telegram.desktop)$
windowrule = size 419 532, match:initial_class ^(org.telegram.desktop)$
windowrule = move 1988 788, match:initial_class ^(org.telegram.desktop)$

# Signal
windowrule = workspace 3, match:initial_class ^(signal)$
windowrule = float on, match:initial_class ^(signal)$
windowrule = size 417 540, match:initial_class ^(signal)$
windowrule = move 1978 147, match:initial_class ^(signal)$

# Thunderbird (Main Window)
windowrule = workspace 3, match:initial_class ^(org.mozilla.Thunderbird)$
windowrule = float on, match:initial_class ^(org.mozilla.Thunderbird)$
windowrule = size 1700 1000, match:initial_class ^(org.mozilla.Thunderbird)$
windowrule = move 120 240, match:initial_class ^(org.mozilla.Thunderbird)$

# -----------------------------------------------------------------------------
#  DIALOGS, MODALS, & TRANSIENT WINDOWS (Consolidated)
# -----------------------------------------------------------------------------

# Geany Utility Dialogs
windowrule = float on, match:initial_class ^(geany)$, match:initial_title ^(Choose font|Replace|Find|Color Schemes)$
windowrule = size 600 740, match:initial_class ^(geany)$, match:initial_title ^(Choose font|Replace|Find|Color Schemes)$
windowrule = center on, match:initial_class ^(geany)$, match:initial_title ^(Choose font|Replace|Find|Color Schemes)$

# Portals & General File Pickers (Open/Save/Upload)
windowrule = float on, match:initial_class ^(xdg-desktop-portal-.*)$
windowrule = float on, match:initial_title ^(?i)(Open|Save|Select|Upload|Choose|Enter|Confirm|Warning).*$
windowrule = size 1100 700, match:initial_class ^(xdg-desktop-portal-.*)$
windowrule = size 1100 700, match:initial_title ^(?i)(Open|Save|Select|Upload|Choose|Enter).*$
windowrule = center on, match:initial_class ^(xdg-desktop-portal-.*)$
windowrule = center on, match:initial_title ^(?i)(Open|Save|Select|Upload|Choose|Enter).*$

# Smaller Dialogs (File Roller, Thunar Rename, Appearance)
windowrule = float on, match:initial_class ^(org.gnome.FileRoller|thunar|xfce4-appearance-settings)$
windowrule = size 350 150, match:initial_class ^(org.gnome.FileRoller|thunar)$, match:initial_title ^(File Roller|Rename).*$
windowrule = size 400 600, match:initial_class ^(xfce4-appearance-settings)$, match:initial_title ^(Appearance).*$
windowrule = center on, match:initial_class ^(org.gnome.FileRoller|thunar|xfce4-appearance-settings)$

# Thunderbird/Betterbird - Compose & Alarms
windowrule = float on, match:class ^(org.mozilla.Thunderbird|eu.betterbird.Betterbird)$, match:title ^(Write: \(no subject\)|Calendar Reminders|Edit Item)$
windowrule = size 1100 800, match:class ^(org.mozilla.Thunderbird|eu.betterbird.Betterbird)$, match:title ^(Write: \(no subject\)|Calendar Reminders|Edit Item)$
windowrule = center on, match:class ^(org.mozilla.Thunderbird|eu.betterbird.Betterbird)$, match:title ^(Write: \(no subject\)|Calendar Reminders|Edit Item)$

# -----------------------------------------------------------------------------
#  MULTIMEDIA & SCRATCHPADS
# -----------------------------------------------------------------------------

# Opacity Overrides
windowrule = opacity 1.00 override, match:initial_class ^(gimp|swayimg)$
windowrule = opacity 0.90 override, match:initial_class ^(YoutubeMusic)$

# Multimedia Floating & Sizing
windowrule = float on, match:initial_class ^(YoutubeMusic|google-chrome)$
windowrule = size 1000 800, match:initial_class ^(YoutubeMusic)$
windowrule = center on, match:initial_class ^(YoutubeMusic|google-chrome)$

# Chrome "New Tab" specifically
windowrule = size 2100 1100, match:initial_class ^(google-chrome)$, match:initial_title ^(Untitled|New tab).*$

# System Audio Control
windowrule = size 1100 1000, match:initial_class ^(org.pulseaudio.pavucontrol)$
windowrule = center on, match:initial_class ^(org.pulseaudio.pavucontrol)$

# Image Viewing & Connectivity
windowrule = float on, match:class ^(org.kde.kdeconnect.app|swayimg)$
windowrule = size 65% 65%, match:class ^(org.kde.kdeconnect.app|swayimg)$
windowrule = center on, match:class ^(org.kde.kdeconnect.app|swayimg)$

# Kitty Dropdown (Scratchpad)
windowrule = float on, match:class ^(kitty-dropdown)$
windowrule = size 40% 40%, match:class ^(kitty-dropdown)$
windowrule = workspace special:dropdown, match:class ^(kitty-dropdown)$
windowrule = border_size 1, match:class ^(kitty-dropdown)$

# =============================================================================
#  TILING OVERRIDES
# =============================================================================
windowrule = tile on, match:class ^(org\.wezfurlong\.wezterm)$
windowrule = tile on, match:class ^(gnome-control-center)$

# =============================================================================
#  GLOBAL FLOATING & UTILITIES
# =============================================================================
windowrule = float on, match:initial_class ^(nm-connection-editor)$
windowrule = float on, match:class ^(gnome-calculator|blueman-manager|xdg-desktop-portal|pithos|org.quickshell|timeshift-gtk)$
windowrule = float on, match:title ^(Library|FontBase)$
windowrule = float on, match:class ^(com.github.wwmm.easyeffects)$, match:title ^(Easy Effects)$
windowrule = float on, match:class ^(firefox)$, match:title ^(Picture-in-Picture)$
windowrule = float on, match:title ^(KDE Connect URL handler)$

# =============================================================================
#  WORKSPACE 2: SYSTEM & FILE MANAGEMENT (Floating)
# =============================================================================

# Geany - Config Editing
windowrule = workspace 2, match:initial_class ^(geany)$
windowrule = float on, match:initial_class ^(geany)$
windowrule = size 1089 1101, match:initial_class ^(geany)$
windowrule = move 103 147, match:initial_class ^(geany)$

# Zed - File Editor
windowrule = float on, match:initial_class ^(dev.zed.Zed)$
windowrule = size 900 530, match:initial_class ^(dev.zed.Zed)$, match:initial_title ^(Zed — Settings)$
windowrule = center on, match:initial_class ^(dev.zed.Zed)$, match:initial_title ^(Zed — Settings)$

# Nemo - File Browser
windowrule = workspace 2, match:initial_class ^(thunar)$
windowrule = float on, match:initial_class ^(thunar)$
windowrule = size 970 740, match:initial_class ^(thunar)$
windowrule = move 1390 121, match:initial_class ^(thunar)$
windowrule = size 506 560, match:initial_class ^(thunar)$, match:initial_title ^* - (Properties)$

# Qt6 Configuration Tool
windowrule = float on, match:initial_class ^(qt6ct)$, match:initial_title ^(Qt6 Configuration Tool)$
windowrule = size 614 901, match:initial_class ^(qt6ct)$, match:initial_title ^(Qt6 Configuration Tool)$
windowrule = center on, match:initial_class ^(qt6ct)$, match:initial_title ^(Qt6 Configuration Tool)$

# =============================================================================
#  WORKSPACE 3: COMMUNICATION & PRODUCTIVITY (Floating)
# =============================================================================

# Geany Choose Font Dialog
windowrule = float on, match:initial_class ^(geany)$, match:initial_title ^(Choose font|Replace|Find|Color Schemes)$
windowrule = size 600 740, match:initial_class ^(geany)$, match:initial_title ^(Choose font|Replace|Find|Color Schemes)$
windowrule = center on, match:initial_class ^(geany)$, match:initial_title ^(Choose font|Replace|Find|Color Schemes)$


# Telegram
windowrule = workspace 3, match:initial_class ^(org.telegram.desktop)$
windowrule = float on, match:initial_class ^(org.telegram.desktop)$
windowrule = size 419 532, match:initial_class ^(org.telegram.desktop)$
windowrule = move 1988 788, match:initial_class ^(org.telegram.desktop)$

# Signal
windowrule = workspace 3, match:initial_class ^(signal)$
windowrule = float on, match:initial_class ^(signal)$
windowrule = size 417 540, match:initial_class ^(signal)$
windowrule = move 1978 147, match:initial_class ^(signal)$

# Thunderbird (Main Window)
windowrule = workspace 3, match:initial_class ^(org.mozilla.Thunderbird)$
windowrule = float on, match:initial_class ^(org.mozilla.Thunderbird)$
windowrule = size 1700 1000, match:initial_class ^(org.mozilla.Thunderbird)$
windowrule = move 120 240, match:initial_class ^(org.mozilla.Thunderbird)$

# =============================================================================
#  DIALOGS, MODALS, & TRANSIENT WINDOWS (GTK & Qt5/6)
# =============================================================================

# XDG Desktop Portals (The main Open/Save/Select backend for Wayland)
# This catches xdg-desktop-portal-gtk, xdg-desktop-portal-kde, and xdg-desktop-portal-gnome
windowrule = float on, match:initial_class ^(xdg-desktop-portal-.*)$
windowrule = size 1100 700, match:initial_class ^(xdg-desktop-portal-.*)$
windowrule = center on, match:initial_class ^(xdg-desktop-portal-.*)$

# Catching transient titles for apps that don't use the portal (Standard GTK/Qt dialogs)
# Using case-insensitive regex for common "Save/Open" variations
windowrule = float on, match:initial_title ^(?i)(Open|Save|Select|Upload|Choose|Enter|Confirm|Warning).*$
windowrule = size 1100 700, match:initial_title ^(?i)(Open|Save|Select|Upload|Choose|Enter).*$
windowrule = center on, match:initial_title ^(?i)(Open|Save|Select|Upload|Choose|Enter).*$

# Smaller Centered Dialogs (File Roller & Thunar Rename)
windowrule = float on, match:initial_class ^(org.gnome.FileRoller|thunar)$, match:initial_title ^(File Roller|Rename).*$
windowrule = size 350 150, match:initial_class ^(org.gnome.FileRoller|thunar)$, match:initial_title ^(File Roller|Rename).*$
windowrule = center on, match:initial_class ^(org.gnome.FileRoller|thunar)$, match:initial_title ^(File Roller|Rename).*$

# Smaller Centered Dialogs (File Roller & Thunar Rename)
windowrule = float on, match:initial_class ^(org.gnome.FileRoller|thunar)$, match:initial_title ^(File Roller|Rename).*$
windowrule = size 300 125, match:initial_class ^(org.gnome.FileRoller|thunar)$, match:initial_title ^(File Roller|Rename).*$
windowrule = center on, match:initial_class ^(org.gnome.FileRoller|thunar)$, match:initial_title ^(File Roller|Rename).*$

# Appearance & Settings Modals
windowrule = float on, match:initial_class ^(xfce4-appearance-settings)$, match:initial_title ^(Appearance).*$
windowrule = size 400 600, match:initial_class ^(xfce4-appearance-settings)$, match:initial_title ^(Appearance).*$
windowrule = center on, match:initial_class ^(xfce4-appearance-settings)$, match:initial_title ^(Appearance).*$

# Thunderbird/Betterbird - Compose & Alarms
windowrule = float on, match:class ^(org.mozilla.Thunderbird|eu.betterbird.Betterbird)$, match:title ^(Write: \(no subject\)|Calendar Reminders|Edit Item)$
windowrule = size 1100 800, match:class ^(org.mozilla.Thunderbird|eu.betterbird.Betterbird)$, match:title ^(Write: \(no subject\)|Calendar Reminders|Edit Item)$
windowrule = center on, match:class ^(org.mozilla.Thunderbird|eu.betterbird.Betterbird)$, match:title ^(Write: \(no subject\)|Calendar Reminders|Edit Item)$

# =============================================================================
#  MULTIMEDIA & SCRATCHPADS
# =============================================================================

## Gimp opacity to 100
windowrule = opacity 1.00 override, match:initial_class ^(gimp)$, match:initial_title ^(GNU Image Manipulation Program)$
## swayimg opacity to 100
windowrule = opacity 1.00 override, match:initial_class ^(swayimg)$

# Google Chrome (New Tab Floats)
windowrule = float on, match:initial_class ^(google-chrome)$, match:initial_title ^(Untitled|New tab).*$
windowrule = size 2100 1100, match:initial_class ^(google-chrome)$, match:initial_title ^(Untitled|New tab).*$
windowrule = center on, match:initial_class ^(google-chrome)$, match:initial_title ^(Untitled|New tab).*$

# YouTube Music & Audio
windowrule = opacity 1.0, match:initial_class ^(YoutubeMusic)$
windowrule = size 1000 800, match:initial_class ^(YoutubeMusic)$
windowrule = float on, match:initial_class ^(YoutubeMusic)$
windowrule = center on, match:initial_class ^(YoutubeMusic)$

windowrule = float on, match:initial_class ^(org.pulseaudio.pavucontrol)$
windowrule = size 1100 1000, match:initial_class ^(org.pulseaudio.pavucontrol)$
windowrule = center on, match:initial_class ^(org.pulseaudio.pavucontrol)$

# KDE Connect & Swayimg
windowrule = float on, match:class ^(org.kde.kdeconnect.app|swayimg)$
windowrule = size 65% 65%, match:class ^(org.kde.kdeconnect.app|swayimg)$
windowrule = center on, match:class ^(org.kde.kdeconnect.app|swayimg)$

# Kitty Dropdown (Scratchpad)
windowrule = float on, match:class ^(kitty-dropdown)$
windowrule = size 40% 40%, match:class ^(kitty-dropdown)$
windowrule = workspace special:dropdown, match:class ^(kitty-dropdown)$
# Force a 2px border on the dropdown even though global is 0
windowrule = border_size 1, match:class ^(kitty-dropdown)$

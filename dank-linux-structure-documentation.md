# DankLinux System Documentation
**Last Updated:** January 30, 2026  
**Owner:** Duane Cummins  
**System:** Custom Arch Linux Distribution

---

## Table of Contents
1. [System Overview](#system-overview)
2. [Core Components](#core-components)
3. [Git Bare Repository Setup](#git-bare-repository-setup)
4. [File Structure](#file-structure)
5. [Configuration Management](#configuration-management)
6. [Backup Strategy](#backup-strategy)
7. [Scripts & Automation](#scripts--automation)
8. [Color Theme System](#color-theme-system)
9. [Troubleshooting](#troubleshooting)

---

## System Overview

### Base System
- **Distribution:** Arch Linux (custom "DankLinux" build)
- **Window Manager:** Hyprland (Wayland compositor)
- **Shell:** DankMaterialShell (custom GNOME Shell fork)
- **Terminal:** Kitty (with dropdown support)
- **Location:** Allen, Texas, US

### Key Features
- Material Design themed environment
- Matugen-based color generation from wallpapers
- Xresources integration for system-wide color access
- Git bare repository for dotfile management
- Automated nightly backups with Timeshift
- Real-time theme synchronization via dms-sync
- DuaneLinux flat color overlay system

---

## Core Components

### DankMaterialShell (DMS)
- **Location:** `~/.config/DankMaterialShell/`
- **Type:** Custom GNOME Shell fork with Material Design
- **User Settings:** `~/.config/DankMaterialShell/settings.json` (tracked in git)
- **NOT Tracked in Git:**
  - `plugins/` - Downloaded via DMS interface
  - `themes/` - Downloaded via DMS interface  
  - `plugin_settings.json` - Auto-generated
  - `zen.css` - Auto-downloaded
  - `.changelog*` - Temporary files
  - `.firstlaunch` - Temporary file

### Hyprland
- **Location:** `~/.config/hypr/`
- **Main Config:** `~/.config/hypr/hyprland.conf`
- **DMS Integration:** `~/.config/hypr/dms/` directory contains:
  - `colors.conf` - Generated by Matugen
  - `binds.conf` - Keybindings
  - `cursor.conf` - Cursor settings
  - `env.conf` - Environment variables (includes Flatpak XDG paths)
  - `layout.conf` - Window layouts
  - `outputs.conf` - Monitor configuration

### Kitty Terminal
- **Location:** `~/.config/kitty/`
- **Theme Files:**
  - `dank-theme.conf` - Color scheme (Matugen-generated)
  - `dank-tabs.conf` - Tab bar styling (Matugen-generated)
  - `kitty.conf` - Main configuration
- **Dropdown Support:** kitty-dropdown instance with USR1 reload

### Matugen (Color Generator)
- **Location:** `~/.config/matugen/`
- **Purpose:** Generates Material Design color schemes from wallpapers
- **Templates:** `~/.config/matugen/templates/`
- **Generates:**
  - Hyprland colors (`hypr/dms/colors.conf`)
  - Kitty themes (`kitty/dank-theme.conf`, `kitty/dank-tabs.conf`)
  - GTK themes (`gtk-3.0/dank-colors.css`, `gtk-4.0/dank-colors.css`)
  - DuaneLinux flat overlays (`gtk-3.0/duane-colors.css`, `gtk-4.0/duane-colors.css`)
  - Xresources (`.Xresources`)
  - Cava colors (`cava/config`)
  - Geany color scheme (`geany/colorschemes/dms-matugen.conf`)
  - Thunderbird theme (`thunderbird/*/chrome/userChrome.css`)

### Xresources System
- **Location:** `~/.Xresources`
- **Purpose:** System-wide color access for all applications
- **Template:** `~/.config/matugen/templates/Xresources`
- **Features:**
  - Standard 16 ANSI colors
  - Material Design color aliases (`md_primary`, `md_surface`, etc.)
  - Spicetify-compatible format
  - Static cursor settings (Xcursor.theme, Xcursor.size)
- **Auto-reload:** dms-sync runs `xrdb -merge ~/.Xresources` on color changes

### GTK Themes
- **GTK-3.0:** `~/.config/gtk-3.0/`
- **GTK-4.0:** `~/.config/gtk-4.0/`
  - `dank-colors.css` - Matugen-generated Material Design colors (DMS base)
  - `duane-colors.css` - DuaneLinux flat color overrides
  - `gtk.css` - Imports both: `@import url("dank-colors.css"); @import url("duane-colors.css");`
  - `settings.ini` - GTK settings

**Color Layer System:**
1. DMS base (`dank-colors.css`) - Full Material Design palette
2. DuaneLinux overlay (`duane-colors.css`) - Flat backgrounds using `surface` color
3. Cascading CSS - duane-colors overrides specific dank-colors variables

### Spicetify (Spotify Theming)
- **Location:** `~/.config/spicetify/`
- **Theme:** Xresources-spicetify
- **Config:** `config-xpui.ini`
- **Color Scheme:** Base (reads from Xresources)
- **Features:**
  - Automatic color sync with system theme
  - Clean, minimal design
  - No scrollbars
  - Material Design colors via Xresources

### Thunderbird
- **Theme Location:** `~/.thunderbird/*/chrome/userChrome.css`
- **Template:** `~/.config/matugen/templates/thunderbird-userChrome.css`
- **Features:** Material Design colors matching system theme

### Cava (Audio Visualizer)
- **Location:** `~/.config/cava/`
- **Config:** `~/.config/cava/config`
- **Auto-reload:** Receives USR1 signal from dms-sync
- **Shaders:** `~/.config/cava/shaders/`
- **Themes:** `~/.config/cava/themes/`

### Geany (Text Editor)
- **Location:** `~/.config/geany/`
- **Color Scheme:** `colorschemes/dms-matugen.conf` (Matugen-generated)

### DankSearch
- **Location:** `~/.config/danksearch/`
- **Purpose:** Custom application launcher/search
- **Cache:** `~/.cache/danksearch/` (NOT tracked)

### Swayimg (Image Viewer)
- **Location:** `~/.config/swayimg/`
- **Purpose:** Wayland-native image viewer

### Nano (Text Editor)
- **Config:** `~/.nanorc`
- **Syntax Highlighting:** `~/.nano/` directory

---

## Git Bare Repository Setup

### Repository Details
- **Local Bare Repo:** `~/hypr-dots/`
- **Work Tree:** `$HOME` (entire home directory)
- **GitHub Remote:** `https://github.com/dcindallas/hypr-dots.git`
- **Branch:** `main`

### Git Commands
All git operations use this format:
```bash
git --git-dir=$HOME/hypr-dots/ --work-tree=$HOME <command>
```

### Exclude File Configuration
**Location:** `~/hypr-dots/info/exclude`

**Key Principles:**
1. Start with `*` to ignore everything by default
2. Whitelist only config directories with `!` prefix
3. Use `.config/` prefix in paths (how repo stores them)
4. Explicitly exclude auto-generated/downloaded files

**Current Whitelist:**
- `.bashrc`
- `.nanorc`
- `.nano/**`
- `.Xresources` (generated, but tracked for backup)
- `.local/bin/**` (all scripts)
- `Pictures/wallpaper/**`
- `.config/hypr/**`
- `.config/danksearch/**`
- `.config/DankMaterialShell/settings.json` (only user settings)
- `.config/gtk-3.0/**`
- `.config/gtk-4.0/**`
- `.config/kitty/**`
- `.config/matugen/**` (templates and config)
- `.config/cava/**`
- `.config/geany/**`
- `.config/spicetify/**`
- `.config/swayimg/**`
- `.thunderbird/*/chrome/**` (only theme files)

**Critical Exclusions:**
```
.config/DankMaterialShell/plugins/
.config/DankMaterialShell/themes/
.config/DankMaterialShell/plugin_settings.json
.config/DankMaterialShell/zen.css
.config/DankMaterialShell/.changelog*
.config/DankMaterialShell/.firstlaunch
.thunderbird/*/lock
.thunderbird/*/cookies.sqlite*
.thunderbird/*/storage/
```

### Important Git Rules
1. **NEVER use `git add -f`** - This bypasses all safety checks
2. **NEVER track cache directories** - They're large and temporary
3. **NEVER track nested git repos** - Remove `.git` folders before adding
4. **NEVER track auto-downloaded files** - They regenerate on new installs
5. **ALWAYS check status before committing** - Verify no unwanted files

---

## File Structure

### Tracked Files (in Git)
```
~/
├── .bashrc
├── .nanorc
├── .nano/
│   └── [syntax files]
├── .Xresources (generated by Matugen)
├── .local/
│   └── bin/
│       ├── hyper-push (git sync script)
│       ├── dms-sync (theme reload watcher)
│       └── [other custom scripts]
├── Pictures/
│   └── wallpaper/
│       └── [wallpaper images]
├── .thunderbird/
│   └── */chrome/
│       └── userChrome.css
└── .config/
    ├── hypr/
    │   ├── hyprland.conf
    │   └── dms/
    │       ├── colors.conf (Matugen)
    │       ├── binds.conf
    │       ├── cursor.conf
    │       ├── env.conf
    │       ├── layout.conf
    │       └── outputs.conf
    ├── DankMaterialShell/
    │   └── settings.json (ONLY this file)
    ├── kitty/
    │   ├── kitty.conf
    │   ├── dank-theme.conf (Matugen)
    │   └── dank-tabs.conf (Matugen)
    ├── gtk-3.0/
    │   ├── gtk.css (imports both color files)
    │   ├── dank-colors.css (Matugen - DMS base)
    │   └── duane-colors.css (Matugen - flat overlay)
    ├── gtk-4.0/
    │   ├── gtk.css (imports both color files)
    │   ├── dank-colors.css (Matugen - DMS base)
    │   ├── duane-colors.css (Matugen - flat overlay)
    │   └── settings.ini
    ├── matugen/
    │   ├── config.toml
    │   └── templates/
    │       ├── Xresources
    │       ├── gtk-colors.css
    │       ├── cava.conf
    │       ├── geany.conf
    │       └── thunderbird-userChrome.css
    ├── cava/
    │   ├── config (Matugen)
    │   ├── shaders/
    │   └── themes/
    ├── geany/
    │   └── colorschemes/
    │       └── dms-matugen.conf
    ├── spicetify/
    │   ├── config-xpui.ini
    │   └── Themes/
    │       └── Xresources-spicetify/
    ├── swayimg/
    │   └── [config files]
    └── danksearch/
        └── [config files]
```

### NOT Tracked (Excluded)
```
~/.cache/                           # All cache files
~/.Xauthority                       # X11 auth
~/.bash_history                     # Command history
~/.config/DankMaterialShell/
├── plugins/                        # Downloaded via DMS
├── themes/                         # Downloaded via DMS
├── plugin_settings.json            # Auto-generated
├── zen.css                         # Auto-downloaded
├── .changelog*                     # Temporary
└── .firstlaunch                    # Temporary
~/.thunderbird/*/
├── cookies.sqlite                  # Browser data
├── storage/                        # User data
└── [most other files]              # Privacy/cache
```

---

## Configuration Management

### Workflow for Config Changes
1. Edit config files normally
2. Colors auto-update when wallpaper changes (via Matugen + dms-sync)
3. Run `hyper-push` to sync (manual or automatic at 11pm)
4. Script stages only modified tracked files
5. Commits with timestamp
6. Pulls with rebase
7. Pushes to GitHub

### Fresh Install Restoration
```bash
# 1. Install base system (Arch + Hyprland)
# 2. Install dependencies
yay -S matugen spicetify-cli flatpak deno

# 3. Clone bare repository
git clone --bare https://github.com/dcindallas/hypr-dots.git $HOME/hypr-dots

# 4. Checkout files (may need to backup conflicting files first)
git --git-dir=$HOME/hypr-dots/ --work-tree=$HOME checkout main

# 5. Install DankMaterialShell
# (Installation method TBD - document when known)

# 6. Install DMS plugins via interface
# (Plugins are NOT in git, must be re-downloaded)

# 7. Load Xresources
xrdb -merge ~/.Xresources

# 8. Apply Spicetify
spicetify backup apply

# 9. Start dms-sync (should auto-start via Hyprland config)
dms-sync &

# 10. Verify exclude file
cat ~/hypr-dots/info/exclude

# 11. Test sync script
hyper-push
```

### Adding New Config Directories
To track a new config directory:

1. Edit exclude file:
```bash
nano ~/hypr-dots/info/exclude
```

2. Add whitelist entry:
```
!.config/newapp/
!.config/newapp/**
```

3. Stage and commit:
```bash
git --git-dir=$HOME/hypr-dots/ --work-tree=$HOME add ~/.config/newapp/
hyper-push
```

---

## Backup Strategy

### Timeshift Backup
- **Schedule:** Daily at 12:00 AM (midnight)
- **Type:** System snapshot
- **Purpose:** Full system recovery point

### Git Sync (hyper-push)
- **Schedule:** Daily at 11:00 PM
- **Type:** Configuration files only
- **Purpose:** Version control and remote backup of dotfiles
- **Runs:** 1 hour before Timeshift to ensure configs are saved

### Why Both?
- **Timeshift:** Full system state, can restore everything including installed packages
- **Git:** Portable configs, can apply to fresh installs, version history

---

## Scripts & Automation

### dms-sync Script
**Location:** `~/.local/bin/dms-sync`  
**Purpose:** Monitor Matugen color changes and reload applications

**Features:**
- Watches `~/.config/hypr/dms/colors.conf` for changes
- Auto-reloads on wallpaper change:
  - `xrdb -merge ~/.Xresources` - System-wide colors
  - `pkill -USR1 cava` - Audio visualizer
  - `pkill -USR1 kitty` - All kitty instances
  - `pkill -USR1 kitty-dropdown` - Dropdown terminal
  - GTK theme toggle (forces reload) - Browser, file managers, etc.
- Runs automatically via Hyprland exec

**GTK Theme Reload Logic:**
```bash
CURRENT_THEME=$(gsettings get org.gnome.desktop.interface gtk-theme | tr -d "'")
gsettings set org.gnome.desktop.interface gtk-theme ""
gsettings set org.gnome.desktop.interface gtk-theme "$CURRENT_THEME"
```

**Usage:**
Starts automatically with Hyprland. Manual start:
```bash
dms-sync &
```

### hyper-push Script
**Location:** `~/.local/bin/hyper-push`  
**Purpose:** Safe git sync without force-adding files

**Features:**
- Checks for changes before running
- Stages only modified tracked files (`git add -u`)
- Never uses `-f` flag
- Commits with timestamp
- Pulls with rebase
- Pushes to GitHub
- Sends desktop notifications

**Usage:**
```bash
hyper-push
```

**Cron Schedule (11pm daily):**
```cron
0 23 * * * /home/duane/.local/bin/hyper-push
```

### Setting Up Automated Sync
```bash
# Open crontab
crontab -e

# Add this line:
0 23 * * * /home/duane/.local/bin/hyper-push

# Verify it's scheduled
crontab -l
```

---

## Color Theme System

### Complete Workflow
1. User selects wallpaper via DMS wallpaper changer
2. Matugen extracts Material Design color palette from wallpaper
3. Matugen generates color configs from templates in `~/.config/matugen/templates/`:
   - **Hyprland:** `~/.config/hypr/dms/colors.conf`
   - **Kitty:** `dank-theme.conf`, `dank-tabs.conf`
   - **GTK:** `gtk-3.0/dank-colors.css`, `gtk-3.0/duane-colors.css`, `gtk-4.0/dank-colors.css`, `gtk-4.0/duane-colors.css`
   - **Xresources:** `~/.Xresources`
   - **Cava:** `~/.config/cava/config`
   - **Geany:** `~/.config/geany/colorschemes/dms-matugen.conf`
   - **Thunderbird:** `~/.thunderbird/*/chrome/userChrome.css`
4. dms-sync detects the change to `colors.conf`
5. dms-sync triggers reloads:
   - Xresources → `xrdb -merge`
   - Cava → `pkill -USR1 cava`
   - Kitty → `pkill -USR1 kitty`
   - GTK → Toggle theme to force reload
6. All applications immediately reflect new colors
7. Spicetify reads from Xresources on next Spotify launch

### Template Locations
**All templates:** `~/.config/matugen/templates/`

**Template Syntax:**
- Old (broken): `{{ colors.surface }}`
- Correct: `{{colors.surface.default.hex}}`

**Example Template Snippet:**
```css
background-color: {{colors.surface.default.hex}};
color: {{colors.on_surface.default.hex}};
accent: {{colors.primary.default.hex}};
```

### DuaneLinux Color Philosophy
- **Flat backgrounds:** Most UI elements use `surface` color
- **Minimal elevation:** Only cards/popups use `surface_container`
- **Material Design base:** DMS provides full MD3 palette
- **Custom overrides:** DuaneLinux layer flattens specific elements
- **Consistency:** Same colors across ALL applications via Xresources

### Xresources Color Variables
System-wide color access for any application:
```
foreground, background          # Standard terminal colors
color0-color15                  # 16 ANSI colors
md_primary                      # Material Design primary
md_on_primary                   # Text on primary
md_primary_container            # Primary container
md_secondary                    # Secondary accent
md_tertiary                     # Tertiary accent
md_surface                      # Main surface
md_surface_container            # Elevated surface
md_error                        # Error state
```

### Applying Theme Changes
Happens automatically via dms-sync, but manual triggers:
```bash
# Reload Xresources
xrdb -merge ~/.Xresources

# Reload Cava
pkill -USR1 cava

# Reload Kitty
pkill -USR1 kitty

# Reload GTK (toggle theme)
CURRENT_THEME=$(gsettings get org.gnome.desktop.interface gtk-theme | tr -d "'")
gsettings set org.gnome.desktop.interface gtk-theme ""
gsettings set org.gnome.desktop.interface gtk-theme "$CURRENT_THEME"

# Spicetify - restart Spotify to pick up new Xresources colors
```

---

## Troubleshooting

### Matugen Template Not Generating Correctly
**Symptom:** Generated file shows `{"dark": Map({"color": Ident...` instead of hex colors

**Cause:** Template using old syntax `{{ colors.surface }}` instead of `{{colors.surface.default.hex}}`

**Fix:**
```bash
nano ~/.config/matugen/templates/[template-name]

# Change from:
{{ colors.surface }}

# To:
{{colors.surface.default.hex}}
```

### GTK Theme Not Updating
**Symptom:** GTK apps don't reflect new colors after wallpaper change

**Cause:** GTK doesn't auto-detect theme file changes

**Fix:** dms-sync now handles this automatically via theme toggle. Manual fix:
```bash
CURRENT_THEME=$(gsettings get org.gnome.desktop.interface gtk-theme | tr -d "'")
gsettings set org.gnome.desktop.interface gtk-theme ""
gsettings set org.gnome.desktop.interface gtk-theme "$CURRENT_THEME"
```

### Spicetify Not Using System Colors
**Symptom:** Spotify theme doesn't match system colors

**Cause:** Xresources not loaded or Spicetify config wrong

**Fix:**
```bash
# Reload Xresources
xrdb -merge ~/.Xresources

# Verify colors loaded
xrdb -query | grep md_primary

# Reapply Spicetify
spicetify config current_theme Xresources-spicetify color_scheme Base
spicetify apply
```

### Git Shows Thousands of Untracked Files
**Symptom:** `git status -u` shows cache files, bash_history, etc.

**Cause:** Exclude file missing `*` at top or incorrect whitelist format

**Fix:**
```bash
# Check exclude file
cat ~/hypr-dots/info/exclude

# Should start with:
# Ignore everything by default
*

# Then whitelist with ! prefix
!.config/
!.config/hypr/
# etc...
```

### Can't Add Files - "Ignored by .gitignore"
**Symptom:** `git add` fails with "paths are ignored" error

**Cause:** Directory not whitelisted in exclude file

**Fix:**
```bash
# Check what's ignoring it
git --git-dir=$HOME/hypr-dots/ --work-tree=$HOME check-ignore -v <path>

# Add to exclude file
nano ~/hypr-dots/info/exclude
# Add: !.config/directory/
# Add: !.config/directory/**
```

### Nested Git Repository Error
**Symptom:** "warning: adding embedded git repository" when adding theme

**Cause:** Copied theme includes `.git` directory

**Fix:**
```bash
# Remove the nested .git folder
rm -rf ~/.config/spicetify/Themes/[theme-name]/.git

# Reset if already staged
git --git-dir=$HOME/hypr-dots/ --work-tree=$HOME reset HEAD .config/spicetify/

# Re-add without .git folder
git --git-dir=$HOME/hypr-dots/ --work-tree=$HOME add ~/.config/spicetify/
```

### Repository Tracking Wrong Files
**Symptom:** Plugins, cache files, or themes are being tracked

**Cause:** Previous use of `git add -f` bypassed exclude rules

**Fix:**
```bash
# Remove from tracking (keeps local files)
git --git-dir=$HOME/hypr-dots/ --work-tree=$HOME rm --cached -r <path>

# Commit removal
git --git-dir=$HOME/hypr-dots/ --work-tree=$HOME commit -m "Remove unwanted files"

# Push
git --git-dir=$HOME/hypr-dots/ --work-tree=$HOME push origin main
```

### DMS Plugins Disappeared After Git Checkout
**Symptom:** Plugins missing after restoring from git

**Cause:** Plugins are NOT tracked in git (intentionally)

**Fix:**
Re-download plugins via DankMaterialShell interface. This is by design - plugins should be managed through DMS, not git.

### Merge Conflicts After Pull
**Symptom:** `git pull` fails with conflicts

**Fix:**
```bash
# See conflicted files
git --git-dir=$HOME/hypr-dots/ --work-tree=$HOME status

# Option 1: Keep your version
git --git-dir=$HOME/hypr-dots/ --work-tree=$HOME checkout --ours <file>

# Option 2: Keep remote version  
git --git-dir=$HOME/hypr-dots/ --work-tree=$HOME checkout --theirs <file>

# Option 3: Manually resolve
nano <file>

# After resolving
git --git-dir=$HOME/hypr-dots/ --work-tree=$HOME add <file>
git --git-dir=$HOME/hypr-dots/ --work-tree=$HOME rebase --continue
```

---

## Key Learnings

### What Went Wrong with Previous Setup
1. **Used `git add -f` on entire directories** - Tracked 100+ plugin files
2. **Tracked nested git repos** - Broke bare repo structure
3. **No `*` at top of exclude file** - Didn't ignore by default
4. **Tracked auto-generated files** - zen.css, plugin_settings.json
5. **Wrong path format in exclude** - Mixed with/without `.config/` prefix
6. **Wrong Matugen template syntax** - Used `{{ }}` instead of `{{}}.default.hex`

### Best Practices Established
1. **Always start exclude with `*`** - Explicit whitelist only
2. **Never use `-f` flag** - If git won't add it, there's a reason
3. **Check status before committing** - Verify no cache/temp files
4. **Keep auto-generated files out** - They regenerate anyway
5. **Remove `.git` from copied themes** - Prevents nested repo issues
6. **Document what's tracked** - This file serves that purpose
7. **One-step-at-a-time workflow** - Easier to catch errors early
8. **Use correct Matugen syntax** - `{{colors.name.default.hex}}`

### Bare Repo Path Format
Files are stored in git with `.config/` prefix:
```
.config/hypr/hyprland.conf
.config/kitty/kitty.conf
.config/DankMaterialShell/settings.json
```

But exclude file also needs this format for whitelisting.

---

## Health Consideration Notes

**Context:** User undergoing stage 4 cancer treatment with memory side effects

**Workflow Adaptations:**
- One command at a time, wait for confirmation
- Document everything in writing
- Scripts with clear notifications
- Automated backups (set and forget)
- This documentation file for reference
- Comprehensive troubleshooting section

**Recovery Procedures:**
All critical procedures documented above with exact commands. In case of memory issues or system failure, this file contains everything needed to rebuild or fix the system.

---

## Future Enhancements / TODO

### Potential Additions
- [ ] Document DankMaterialShell installation procedure
- [ ] Create automated restore script for fresh installs
- [ ] Add pre-commit hooks to prevent tracking wrong files
- [ ] Document plugin list (if possible to export from DMS)
- [ ] Create backup verification script
- [ ] Document hardware-specific configs (if any)
- [ ] Create system architecture diagram
- [ ] Add ISO/USB installation workflow

### Monitoring
- [x] Verify hyper-push runs successfully at 11pm ✅
- [ ] Verify Timeshift backups complete at 12am
- [ ] Check git repo size periodically (should stay small)
- [ ] Review exclude file if new apps are installed
- [x] Verify dms-sync auto-starts with Hyprland ✅
- [x] Confirm all theme reloads work properly ✅

---

## Quick Reference Commands

### Theme Management
```bash
# Reload all themes manually
xrdb -merge ~/.Xresources
pkill -USR1 cava
pkill -USR1 kitty
gsettings set org.gnome.desktop.interface gtk-theme ""
gsettings set org.gnome.desktop.interface gtk-theme "adw-gtk3"

# Check Xresources colors
xrdb -query | grep md_

# Regenerate Matugen colors
matugen image ~/Pictures/wallpaper/current.png
```

### Git Management
```bash
# Check Git Status
git --git-dir=$HOME/hypr-dots/ --work-tree=$HOME status

# Manual Sync
hyper-push

# View Exclude Rules
cat ~/hypr-dots/info/exclude

# See What's Being Ignored
git --git-dir=$HOME/hypr-dots/ --work-tree=$HOME check-ignore -v <path>

# List Tracked Files
git --git-dir=$HOME/hypr-dots/ --work-tree=$HOME ls-files

# View Recent Commits
git --git-dir=$HOME/hypr-dots/ --work-tree=$HOME log --oneline -10

# Emergency: Reset to Remote
git --git-dir=$HOME/hypr-dots/ --work-tree=$HOME fetch origin
git --git-dir=$HOME/hypr-dots/ --work-tree=$HOME reset --hard origin/main
```

### Spicetify
```bash
# Apply theme
spicetify config current_theme Xresources-spicetify color_scheme Base
spicetify apply

# Update Spicetify
yay -S spicetify-cli

# Backup Spotify
spicetify backup

# Restore Spotify
spicetify restore
```

---

## Support Contacts

- **GitHub Issues:** https://github.com/dcindallas/hypr-dots/issues
- **Arch Wiki:** https://wiki.archlinux.org/
- **Hyprland Docs:** https://wiki.hyprland.org/
- **Matugen:** https://github.com/InioX/matugen

---

**Document Status:** Living document - update as system evolves  
**Git Location:** Tracked in repo as `dank-linux-structure-documentation.md`
